# gocron

> Cronæ˜¯ç³»ç»Ÿä¸­ç”¨æ¥å®šæœŸæ‰§è¡Œæˆ–æŒ‡å®šç¨‹åºä»»åŠ¡çš„ä¸€ç§æœåŠ¡æˆ–è½¯ä»¶
>
> å®ƒå¯ä»¥åˆ©ç”¨å…¶å®ç°å‘¨æœŸæ€§åœ¨ç‰¹å®šæ—¥æœŸ/æ—¶é—´è¿è¡Œä»»åŠ¡ï¼Œæ˜¯è‡ªåŠ¨åŒ–è¿è¡Œé‡å‹ä»»åŠ¡çš„å¥½å·¥å…·ï¼Œå¦åˆ™éœ€è¦äººå·¥å¹²é¢„ã€‚

# ğŸ’¡  ç®€ä»‹

## Cronè¡¨è¾¾å¼

ç”±ç©ºæ ¼åˆ†éš”çš„å…­ä¸ªå­—æ®µç»„æˆ

```xml
Seconds Minutes Hours Day Month Week
```

æ¯ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹:

| å­—æ®µå       | å–å€¼èŒƒå›´        | å…è®¸çš„ç‰¹æ®Šå­—ç¬¦        |
| ------------ | --------------- | --------------------- |
| ç§’ (seconds) | 0-59            | *    /    ,    -      |
| åˆ† (minutes) | 0-59            | *    /    ,    -      |
| å°æ—¶ (hours) | 0-23            | *    /    ,    -      |
| æ—¥æœŸ (day)   | 1-31            | *    /    ,    -    ? |
| æœˆä»½ (month) | 1-12 or JAN-DEC | *    /    ,    -      |
| æ˜ŸæœŸ (week)  | 0-6 or SUN-SAT  | *    /    ,    -    ? |

### ç‰¹æ®Šå­—ç¬¦

|      | å‡½æ•°             | è¯´æ˜                                                         |
| ---- | ---------------- | ------------------------------------------------------------ |
| *    | è¡¨ç¤ºåŒ¹é…ä»»æ„å€¼   | ä¾‹å¦‚ï¼šåœ¨ç¬¬äº”ä¸ªå­—æ®µ(Month)ä¸­ä½¿ç”¨æ˜Ÿå·è¡¨ç¤ºæ¯ä¸ªæœˆ                |
| /    | è¡¨ç¤ºèŒƒå›´çš„å¢é‡   | ä¾‹å¦‚ï¼šåœ¨ç¬¬äºŒä¸ªå­—æ®µä¸­ä½¿ç”¨`4-54/25`è¡¨ç¤ºæ¯å°æ—¶çš„ç¬¬4åˆ†é’Ÿå¼€å§‹åˆ°ç¬¬54åˆ†é’Ÿï¼Œæ¯éš”25åˆ†é’Ÿæ‰§è¡Œ |
| ,    | è¡¨ç¤ºåˆ—å‡ºç‰¹å®šå€¼   | ä¾‹å¦‚ï¼šåœ¨ç¬¬äº”ä¸ªå­—æ®µä¸­ä½¿ç”¨`MON,WED,SUN`è¡¨ç¤ºåœ¨æ¯å‘¨ä¸€ï¼Œå‘¨ä¸‰ï¼Œå‘¨å¤©æ‰§è¡Œ |
| -    | è¡¨ç¤ºèŒƒå›´         | ä¾‹å¦‚ï¼šåœ¨ç¬¬ä¸‰ä¸ªå­—æ®µä¸­ä½¿ç”¨`12-15`è¡¨ç¤ºæ¯å¤©ä¸­åˆ12ç‚¹åˆ°ä¸‹åˆ3ç‚¹     |
| ?    | è¡¨ç¤ºå¿½ç•¥è¯¥å­—æ®µå€¼ | ä¾‹å¦‚ï¼š`15 30 12 9 * ?`è¡¨ç¤ºæ¯æœˆ9å·çš„ä¸­åˆ12:30:15ï¼Œè€Œä¸æ˜¯æ¯å‘¨çš„æ¯å¤© |

# ğŸš€ åŠŸèƒ½

- æ”¯æŒcronå¼•æ“çš„å¯åŠ¨ä¸åœæ­¢
- æ”¯æŒcronè¡¨è¾¾å¼è§£æ

# ğŸ¬ ç”¨æ³•ç¤ºä¾‹

```go
cron := New()
cron.Start()

err := cron.AddFunc("* * * * * ?", func() {
       fmt.Println("test")
})
if err != nil {
	fmt.Println(err)
}
cron.Stop()
```

# ğŸ“Œ TODO

- [ ] å¢åŠ å®šæ—¶ä»»åŠ¡çš„é€‰é¡¹(åˆå§‹åŒ–å‡½æ•°, deferå‡½æ•°)
- [ ] å¢åŠ åˆ é™¤å®šæ—¶ä»»åŠ¡çš„åŠŸèƒ½
- [ ] è§£å†³æ—¶é—´å»¶è¿Ÿé—®é¢˜
- [ ] å¢åŠ æ›´æ–¹ä¾¿çš„è¡¨è¾¾å¼
- [ ] å¢å¼ºæ€§èƒ½: jobè°ƒåº¦ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¥å®ç°

# ğŸ“” å‚è€ƒæ–‡çŒ®

[Wiki](https://en.wikipedia.org/wiki/Cron) [CSDN](https://blog.csdn.net/darjun/article/details/106982893?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165820597916782350889519%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=165820597916782350889519&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~pc_rank_34-15-106982893-null-null.142^v32^pc_rank_34,185^v2^control&utm_term=go%20cron&spm=1018.2226.3001.4187)

[cron](https://github.com/robfig/cron)

[cronexpr](https://github.com/gorhill/cronexpr)

[gron](https://github.com/roylee0704/gron)

[gods](https://github.com/emirpasic/gods)
